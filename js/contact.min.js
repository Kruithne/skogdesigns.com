var contact={_submitting:false};contact.onSubmit=function(){if(contact._submitting)return;var t=contact._checkFields();if(t===true){contact._status.slideUp();contact._submitButton.val("Working...");$.post("send.php",contact._values).done(function(t){if(!t.result){contact._submitButton.fadeOut();$("input[type=text],textarea").prop("disabled",true);contact._status.text("Message sent!").slideDown().addClass("done")}else{contact._status.text("Something went wrong!").slideDown();contact._submitButton.val("Send");contact._submitting=false}}).fail(function(){contact._status.text("Something went wrong!").slideDown();contact._submitButton.val("Send");contact._submitting=false})}else{contact._status.text(t).slideDown();contact._submitButton.val("Send")}};contact._checkFields=function(){contact._values={};for(var t in contact._fields){if(contact._fields.hasOwnProperty(t)){var e=contact._fields[t];var n=e.element.val().trim();if(n.length===0)return e.name+" cannot be blank!";if(n.length>e.maxLength)return e.name+" cannot exceed "+e.maxLength+" characters.";if(e.check&&!e.check.test(n))return e.name+" must be valid!";contact._values[t]=n}}return true};$(function(){contact._submitButton=$("#input-submit").on("click",contact.onSubmit);contact._status=$("#error-row");contact._fields={name:{name:"Your name",element:$("#input-name"),maxLength:100},email:{name:"E-mail address",check:/\S+@\S+\.\S+/,element:$("#input-email"),maxLength:160},subject:{name:"Subject",element:$("#input-subject"),maxLength:100},message:{name:"Message",element:$("#input-message"),maxLength:1e4}}});